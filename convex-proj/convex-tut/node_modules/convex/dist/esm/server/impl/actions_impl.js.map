{
  "version": 3,
  "sources": ["../../../../src/server/impl/actions_impl.ts"],
  "sourcesContent": ["import { convexToJson, jsonToConvex } from \"../../values/index.js\";\nimport { version } from \"../../index.js\";\nimport { performAsyncSyscall } from \"./syscall.js\";\n\nexport interface ConvexActionDatabaseClient {\n  runQuery(name: string, ...args: any[]): Promise<any>;\n  runMutation(name: string, ...args: any[]): Promise<any>;\n}\n\nexport function setupActionDatabaseClient(\n  requestId: string\n): ConvexActionDatabaseClient {\n  return {\n    runQuery: async (name, ...args) => {\n      const syscallArgs = {\n        name,\n        args: convexToJson(args),\n        version,\n        requestId,\n      };\n      const result = await performAsyncSyscall(\"actions/query\", syscallArgs);\n      return jsonToConvex(result);\n    },\n    runMutation: async (name, ...args) => {\n      const syscallArgs = {\n        name,\n        args: convexToJson(args),\n        version,\n        requestId,\n      };\n      const result = await performAsyncSyscall(\"actions/mutation\", syscallArgs);\n      return jsonToConvex(result);\n    },\n  };\n}\n"],
  "mappings": ";AAAA,SAAS,cAAc,oBAAoB;AAC3C,SAAS,eAAe;AACxB,SAAS,2BAA2B;AAO7B,gBAAS,0BACd,WAC4B;AAC5B,SAAO;AAAA,IACL,UAAU,OAAO,SAAS,SAAS;AACjC,YAAM,cAAc;AAAA,QAClB;AAAA,QACA,MAAM,aAAa,IAAI;AAAA,QACvB;AAAA,QACA;AAAA,MACF;AACA,YAAM,SAAS,MAAM,oBAAoB,iBAAiB,WAAW;AACrE,aAAO,aAAa,MAAM;AAAA,IAC5B;AAAA,IACA,aAAa,OAAO,SAAS,SAAS;AACpC,YAAM,cAAc;AAAA,QAClB;AAAA,QACA,MAAM,aAAa,IAAI;AAAA,QACvB;AAAA,QACA;AAAA,MACF;AACA,YAAM,SAAS,MAAM,oBAAoB,oBAAoB,WAAW;AACxE,aAAO,aAAa,MAAM;AAAA,IAC5B;AAAA,EACF;AACF;",
  "names": []
}
