{
  "version": 3,
  "sources": ["../../../../src/server/impl/actions_impl.ts"],
  "sourcesContent": ["import { convexToJson, jsonToConvex } from \"../../values/index.js\";\nimport { version } from \"../../index.js\";\nimport { performAsyncSyscall } from \"./syscall.js\";\n\nexport interface ConvexActionDatabaseClient {\n  runQuery(name: string, ...args: any[]): Promise<any>;\n  runMutation(name: string, ...args: any[]): Promise<any>;\n}\n\nexport function setupActionDatabaseClient(\n  requestId: string\n): ConvexActionDatabaseClient {\n  return {\n    runQuery: async (name, ...args) => {\n      const syscallArgs = {\n        name,\n        args: convexToJson(args),\n        version,\n        requestId,\n      };\n      const result = await performAsyncSyscall(\"actions/query\", syscallArgs);\n      return jsonToConvex(result);\n    },\n    runMutation: async (name, ...args) => {\n      const syscallArgs = {\n        name,\n        args: convexToJson(args),\n        version,\n        requestId,\n      };\n      const result = await performAsyncSyscall(\"actions/mutation\", syscallArgs);\n      return jsonToConvex(result);\n    },\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA2C;AAC3C,eAAwB;AACxB,qBAAoC;AAO7B,SAAS,0BACd,WAC4B;AAC5B,SAAO;AAAA,IACL,UAAU,OAAO,SAAS,SAAS;AACjC,YAAM,cAAc;AAAA,QAClB;AAAA,QACA,UAAM,4BAAa,IAAI;AAAA,QACvB;AAAA,QACA;AAAA,MACF;AACA,YAAM,SAAS,UAAM,oCAAoB,iBAAiB,WAAW;AACrE,iBAAO,4BAAa,MAAM;AAAA,IAC5B;AAAA,IACA,aAAa,OAAO,SAAS,SAAS;AACpC,YAAM,cAAc;AAAA,QAClB;AAAA,QACA,UAAM,4BAAa,IAAI;AAAA,QACvB;AAAA,QACA;AAAA,MACF;AACA,YAAM,SAAS,UAAM,oCAAoB,oBAAoB,WAAW;AACxE,iBAAO,4BAAa,MAAM;AAAA,IAC5B;AAAA,EACF;AACF;",
  "names": []
}
