{
  "version": 3,
  "sources": ["../../../src/cli/update.ts"],
  "sourcesContent": ["import { Command } from \"commander\";\nimport { loadPackageJson, Package } from \"./lib/utils.js\";\nimport chalk from \"chalk\";\nimport { oneoffContext } from \"./lib/context.js\";\n\nexport const update = new Command(\"update\")\n  .description(\"Print instructions to update the convex package\")\n  .action(async () => {\n    const ctx = oneoffContext;\n    let updateInstructions = \"npm install convex@latest\\n\";\n    const oldPackages = (await loadPackageJson(ctx)).filter((elt: Package) =>\n      elt.name.startsWith(\"@convex-dev\")\n    );\n    for (const pkg of oldPackages) {\n      updateInstructions += `npm uninstall ${pkg.name}\\n`;\n    }\n\n    console.log(\n      chalk.green(\n        `To view the Convex changelog, go to https://blog.convex.dev/tag/releases/\\nWhen you are ready to upgrade, run the following commands:\\n${updateInstructions}`\n      )\n    );\n  });\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAwB;AACxB,mBAAyC;AACzC,mBAAkB;AAClB,qBAA8B;AAEvB,MAAM,SAAS,IAAI,yBAAQ,QAAQ,EACvC,YAAY,iDAAiD,EAC7D,OAAO,YAAY;AAClB,QAAM,MAAM;AACZ,MAAI,qBAAqB;AACzB,QAAM,eAAe,UAAM,8BAAgB,GAAG,GAAG;AAAA,IAAO,CAAC,QACvD,IAAI,KAAK,WAAW,aAAa;AAAA,EACnC;AACA,aAAW,OAAO,aAAa;AAC7B,0BAAsB,iBAAiB,IAAI;AAAA;AAAA,EAC7C;AAEA,UAAQ;AAAA,IACN,aAAAA,QAAM;AAAA,MACJ;AAAA;AAAA,EAA0I;AAAA,IAC5I;AAAA,EACF;AACF,CAAC;",
  "names": ["chalk"]
}
