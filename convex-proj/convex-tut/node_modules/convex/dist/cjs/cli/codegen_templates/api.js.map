{
  "version": 3,
  "sources": ["../../../../src/cli/codegen_templates/api.ts"],
  "sourcesContent": ["import { GeneratedJsWithTypes, header } from \"./common.js\";\n\nexport function importPath(modulePath: string) {\n  // Replace backslashes with forward slashes.\n  const filePath = modulePath.replace(/\\\\/g, \"/\");\n  // Strip off the file extension.\n  const lastDot = filePath.lastIndexOf(\".\");\n  return filePath.slice(0, lastDot === -1 ? undefined : lastDot);\n}\n\nexport function moduleIdentifier(modulePath: string) {\n  // TODO: This encoding seems ambiguous (`foo/bar` vs `foo_bar`).\n  // Also we should probably rename things that are TypeScript keywords like `delete`.\n  return importPath(modulePath).replace(/\\//g, \"_\");\n}\n\nexport function apiCodegen(modulePaths: string[]): GeneratedJsWithTypes {\n  const reactDTS = `${header(\"Generated API.\")}\n  import type { ApiFromModules } from \"convex/api\";\n  ${modulePaths\n    .map(\n      modulePath =>\n        `import type * as ${moduleIdentifier(modulePath)} from \"../${importPath(\n          modulePath\n        )}\";`\n    )\n    .join(\"\\n\")}\n\n  /**\n   * A type describing your app's public Convex API.\n   *\n   * This \\`API\\` type includes information about the arguments and return\n   * types of your app's query and mutation functions.\n   *\n   * This type should be used with type-parameterized classes like\n   * \\`ConvexReactClient\\` to create app-specific types.\n   */\n  export type API = ApiFromModules<{\n    ${modulePaths\n      .map(\n        modulePath =>\n          `\"${importPath(modulePath)}\": typeof ${moduleIdentifier(modulePath)},`\n      )\n      .join(\"\\n\")}\n  }>;\n  `;\n  return {\n    DTS: reactDTS,\n  };\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6C;AAEtC,SAAS,WAAW,YAAoB;AAE7C,QAAM,WAAW,WAAW,QAAQ,OAAO,GAAG;AAE9C,QAAM,UAAU,SAAS,YAAY,GAAG;AACxC,SAAO,SAAS,MAAM,GAAG,YAAY,KAAK,SAAY,OAAO;AAC/D;AAEO,SAAS,iBAAiB,YAAoB;AAGnD,SAAO,WAAW,UAAU,EAAE,QAAQ,OAAO,GAAG;AAClD;AAEO,SAAS,WAAW,aAA6C;AACtE,QAAM,WAAW,OAAG,sBAAO,gBAAgB;AAAA;AAAA,IAEzC,YACC;AAAA,IACC,gBACE,oBAAoB,iBAAiB,UAAU,cAAc;AAAA,MAC3D;AAAA,IACF;AAAA,EACJ,EACC,KAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAYR,YACC;AAAA,IACC,gBACE,IAAI,WAAW,UAAU,cAAc,iBAAiB,UAAU;AAAA,EACtE,EACC,KAAK,IAAI;AAAA;AAAA;AAGd,SAAO;AAAA,IACL,KAAK;AAAA,EACP;AACF;",
  "names": []
}
