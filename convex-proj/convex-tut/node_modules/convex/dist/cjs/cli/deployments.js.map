{
  "version": 3,
  "sources": ["../../../src/cli/deployments.ts"],
  "sourcesContent": ["import { Command } from \"commander\";\nimport { readProjectConfig } from \"./lib/config.js\";\nimport chalk from \"chalk\";\nimport { bigBrainAPI } from \"./lib/utils.js\";\nimport { oneoffContext } from \"./lib/context.js\";\n\ntype Deployment = {\n  id: number;\n  name: string;\n  create_time: number;\n  deployment_type: \"dev\" | \"prod\";\n};\n\nexport const deployments = new Command(\"deployments\")\n  .description(\"List deployments associated with a project\")\n  .action(async () => {\n    const ctx = oneoffContext;\n    const { projectConfig: config } = await readProjectConfig(ctx);\n\n    const url = `/teams/${config.team}/projects/${config.project}/deployments`;\n\n    console.error(\n      chalk.yellow(`Deployments for project ${config.team}/${config.project}`)\n    );\n    const deployments = (await bigBrainAPI(ctx, \"GET\", url)) as Deployment[];\n    console.log(deployments);\n    if (deployments.length === 0) {\n      console.error(chalk.yellow(`No deployments exist for project`));\n    }\n  });\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAwB;AACxB,oBAAkC;AAClC,mBAAkB;AAClB,mBAA4B;AAC5B,qBAA8B;AASvB,MAAM,cAAc,IAAI,yBAAQ,aAAa,EACjD,YAAY,4CAA4C,EACxD,OAAO,YAAY;AAClB,QAAM,MAAM;AACZ,QAAM,EAAE,eAAe,OAAO,IAAI,UAAM,iCAAkB,GAAG;AAE7D,QAAM,MAAM,UAAU,OAAO,iBAAiB,OAAO;AAErD,UAAQ;AAAA,IACN,aAAAA,QAAM,OAAO,2BAA2B,OAAO,QAAQ,OAAO,SAAS;AAAA,EACzE;AACA,QAAMC,eAAe,UAAM,0BAAY,KAAK,OAAO,GAAG;AACtD,UAAQ,IAAIA,YAAW;AACvB,MAAIA,aAAY,WAAW,GAAG;AAC5B,YAAQ,MAAM,aAAAD,QAAM,OAAO,kCAAkC,CAAC;AAAA,EAChE;AACF,CAAC;",
  "names": ["chalk", "deployments"]
}
