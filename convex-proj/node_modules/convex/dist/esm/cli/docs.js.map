{
  "version": 3,
  "sources": ["../../../src/cli/docs.ts"],
  "sourcesContent": ["import { Command } from \"commander\";\nimport open from \"open\";\nimport { configFilepath, parseProjectConfig } from \"./lib/config.js\";\nimport chalk from \"chalk\";\nimport { bigBrainClient, deprecationCheckWarning } from \"./lib/utils.js\";\nimport { oneoffContext } from \"./lib/context.js\";\n\nasync function openDocs(toOpen: boolean, cookie?: string) {\n  let docsUrl = \"https://docs.convex.dev\";\n  if (cookie !== undefined) {\n    docsUrl += \"/?t=\" + cookie;\n  }\n  if (toOpen) {\n    await open(docsUrl);\n    console.log(chalk.green(\"Docs have launched! Check your browser.\"));\n  } else {\n    console.log(chalk.green(`Find Convex docs here: ${docsUrl}`));\n  }\n}\n\nexport const docs = new Command(\"docs\")\n  .description(\"Launch Convex docs\")\n  .option(\"--no-open\", \"Print docs URL instead of opening it in your browser\")\n  .action(async options => {\n    const ctx = oneoffContext;\n    const configPath = await configFilepath(ctx);\n    let config;\n\n    try {\n      config = parseProjectConfig(JSON.parse(ctx.fs.readUtf8File(configPath)));\n    } catch (err) {\n      await openDocs(options.open);\n      return;\n    }\n    const getCookieUrl = `get_cookie_for_project/${config.team}/${config.project}`;\n    const client = await bigBrainClient(ctx);\n    try {\n      const res = await client.get(getCookieUrl);\n      deprecationCheckWarning(ctx, res);\n      await openDocs(options.open, res.data.cookie);\n    } catch {\n      await openDocs(options.open);\n    }\n  });\n"],
  "mappings": ";AAAA,SAAS,eAAe;AACxB,OAAO,UAAU;AACjB,SAAS,gBAAgB,0BAA0B;AACnD,OAAO,WAAW;AAClB,SAAS,gBAAgB,+BAA+B;AACxD,SAAS,qBAAqB;AAE9B,eAAe,SAAS,QAAiB,QAAiB;AACxD,MAAI,UAAU;AACd,MAAI,WAAW,QAAW;AACxB,eAAW,SAAS;AAAA,EACtB;AACA,MAAI,QAAQ;AACV,UAAM,KAAK,OAAO;AAClB,YAAQ,IAAI,MAAM,MAAM,yCAAyC,CAAC;AAAA,EACpE,OAAO;AACL,YAAQ,IAAI,MAAM,MAAM,0BAA0B,SAAS,CAAC;AAAA,EAC9D;AACF;AAEO,aAAM,OAAO,IAAI,QAAQ,MAAM,EACnC,YAAY,oBAAoB,EAChC,OAAO,aAAa,sDAAsD,EAC1E,OAAO,OAAM,YAAW;AACvB,QAAM,MAAM;AACZ,QAAM,aAAa,MAAM,eAAe,GAAG;AAC3C,MAAI;AAEJ,MAAI;AACF,aAAS,mBAAmB,KAAK,MAAM,IAAI,GAAG,aAAa,UAAU,CAAC,CAAC;AAAA,EACzE,SAAS,KAAP;AACA,UAAM,SAAS,QAAQ,IAAI;AAC3B;AAAA,EACF;AACA,QAAM,eAAe,0BAA0B,OAAO,QAAQ,OAAO;AACrE,QAAM,SAAS,MAAM,eAAe,GAAG;AACvC,MAAI;AACF,UAAM,MAAM,MAAM,OAAO,IAAI,YAAY;AACzC,4BAAwB,KAAK,GAAG;AAChC,UAAM,SAAS,QAAQ,MAAM,IAAI,KAAK,MAAM;AAAA,EAC9C,QAAE;AACA,UAAM,SAAS,QAAQ,IAAI;AAAA,EAC7B;AACF,CAAC;",
  "names": []
}
